/* * This program copies the contents of a URL to a file on the * local filesystem. * * Usage: * 	java URLCopy <URL> <localfile> */ import java.io.*; import java.net.URL; public class URLCopy {	private static final int DEFAULT_CHUNK = 1024; 	public static void main(String[] args) throws IOException { 			BufferedInputStream inFile = null; 			BufferedOutputStream outFile = null; 			// check for necessary parameters 			if (args.length != 2) { 				System.err.println("Usage: java URLCopy <URL> <output file>"); 				System.exit(0); 			}		/*		 * 		 * This reads from the stream in up to 1 KB chunks and writes them to 		 * 	     	 * the output file. 		 */ 		try { 			inFile = new BufferedInputStream((new URL(args[0])).openStream()); 			outFile = new BufferedOutputStream(new FileOutputStream(args[1])); 			int bytesRead = 0; 			byte[] data = new byte[DEFAULT_CHUNK];          		while ( (bytesRead = inFile.read(data)) > 0)          		     outFile.write(data, 0, bytesRead);          		// flush the buffer          		outFile.flush();          	  }        catch (IOException ioe) {          		System.err.println("Error: " + ioe);          	      }         	finally {         		if (inFile != null)         			inFile.close();         		if (outFile != null)         			outFile.close();         		}     }  }